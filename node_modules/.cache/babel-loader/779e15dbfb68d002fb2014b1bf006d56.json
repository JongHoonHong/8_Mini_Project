{"ast":null,"code":"import axios from \"axios\";\nconst initialState = {\n  list: []\n};\nconst LOAD = \"post/LOAD\";\nconst ADD = \"post/ADD\";\nconst UPDATE = \"post/UPDATE\";\nconst DELETE = \"post/DELETE\";\nconst LOADONE = \"post/LOADONE\";\nexport function loadPost(post_list) {\n  return {\n    type: LOAD,\n    post_list\n  };\n}\nexport function addPost(post) {\n  return {\n    type: ADD,\n    post\n  };\n}\nexport function updatePost(post_index) {\n  return {\n    type: UPDATE,\n    post_index\n  };\n}\nexport function deletePost(post_index) {\n  return {\n    type: DELETE,\n    post_index\n  };\n}\nexport function loadOne(post_list) {\n  return {\n    type: LOADONE,\n    post_list\n  };\n}\nexport const loadPostDB = () => {\n  return function (dispatch) {\n    axios({\n      method: \"get\",\n      url: \"http://localhost:5001/post_data\"\n    }).then(response => {\n      console.log(response);\n      dispatch(loadPost(response.data));\n    });\n  };\n};\nexport const addPostDB = post => {\n  console.log(post.title);\n  return function (dispatch) {\n    axios.post(\"http://localhost:5001/post_data\", post).then(response => {\n      console.log(post);\n      dispatch(addPost(post));\n    });\n  };\n};\nexport const deletePostDB = post_id => {\n  const numb = parseInt(post_id);\n  console.log(numb);\n  return function (dispatch) {\n    axios.delete(`http://localhost:5001/post_data/${post_id}`, {}).then(response => {\n      dispatch(deletePost(post_id));\n    });\n  };\n};\nexport const updatePostFB = post_id => {\n  return async function (dispatch, getState) {\n    dispatch(updatePost(post_id));\n  };\n};\nexport const loadOneDB = post_id => {\n  return function (dispatch) {\n    axios.get(`http://localhost:5001/post_data/${post_id}`, {}).then(response => {\n      dispatch(loadOne(response.data));\n    });\n  };\n};\nexport default function reducer() {\n  let state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState;\n  let action = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n  switch (action.type) {\n    case \"post/LOAD\":\n      {\n        return {\n          list: action.post_list\n        };\n      }\n\n    case \"post/ADD\":\n      {\n        const new_post_list = [...state.list, action.post];\n        return {\n          list: new_post_list\n        };\n      }\n\n    case \"post/UPDATE\":\n      {}\n\n    case \"post/DELETE\":\n      {\n        const new_post_list = state.list.filter((l, idx) => {\n          return parseInt(action.post_index) !== idx;\n        });\n        return {\n          list: new_post_list\n        };\n      }\n\n    case \"post/LOADONE\":\n      {\n        return {\n          list: action.post_list\n        };\n      }\n\n    default:\n      return state;\n  }\n}","map":{"version":3,"names":["axios","initialState","list","LOAD","ADD","UPDATE","DELETE","LOADONE","loadPost","post_list","type","addPost","post","updatePost","post_index","deletePost","loadOne","loadPostDB","dispatch","method","url","then","response","console","log","data","addPostDB","title","deletePostDB","post_id","numb","parseInt","delete","updatePostFB","getState","loadOneDB","get","reducer","state","action","new_post_list","filter","l","idx"],"sources":["/Users/jh/Desktop/eco/src/redux/modules/post.js"],"sourcesContent":["import axios from \"axios\";\n\nconst initialState = {\n  list: [],\n};\n\nconst LOAD = \"post/LOAD\";\nconst ADD = \"post/ADD\";\nconst UPDATE = \"post/UPDATE\";\nconst DELETE = \"post/DELETE\";\nconst LOADONE = \"post/LOADONE\";\n\nexport function loadPost(post_list) {\n  return { type: LOAD, post_list };\n}\n\nexport function addPost(post) {\n  return { type: ADD, post };\n}\n\nexport function updatePost(post_index) {\n  return { type: UPDATE, post_index };\n}\n\nexport function deletePost(post_index) {\n  return { type: DELETE, post_index };\n}\n\nexport function loadOne(post_list) {\n  return { type: LOADONE, post_list };\n}\n\nexport const loadPostDB = () => {\n  return function (dispatch) {\n    axios({\n      method: \"get\",\n      url: \"http://localhost:5001/post_data\",\n    }).then((response) => {\n      console.log(response);\n      dispatch(loadPost(response.data));\n    });\n  };\n};\n\nexport const addPostDB = (post) => {\n  console.log(post.title);\n  return function (dispatch) {\n    axios.post(\"http://localhost:5001/post_data\", post).then((response) => {\n      console.log(post);\n      dispatch(addPost(post));\n    });\n  };\n};\n\nexport const deletePostDB = (post_id) => {\n  const numb = parseInt(post_id);\n  console.log(numb);\n  return function (dispatch) {\n    axios\n      .delete(`http://localhost:5001/post_data/${post_id}`, {})\n      .then((response) => {\n        dispatch(deletePost(post_id));\n      });\n  };\n};\n\nexport const updatePostFB = (post_id) => {\n  return async function (dispatch, getState) {\n    dispatch(updatePost(post_id));\n  };\n};\n\nexport const loadOneDB = (post_id) => {\n  return function (dispatch) {\n    axios\n      .get(`http://localhost:5001/post_data/${post_id}`, {})\n      .then((response) => {\n        dispatch(loadOne(response.data));\n      });\n  };\n};\n\nexport default function reducer(state = initialState, action = {}) {\n  switch (action.type) {\n    case \"post/LOAD\": {\n      return { list: action.post_list };\n    }\n    case \"post/ADD\": {\n      const new_post_list = [...state.list, action.post];\n      return { list: new_post_list };\n    }\n    case \"post/UPDATE\": {\n    }\n    case \"post/DELETE\": {\n      const new_post_list = state.list.filter((l, idx) => {\n        return parseInt(action.post_index) !== idx;\n      });\n      return { list: new_post_list };\n    }\n    case \"post/LOADONE\": {\n      return { list: action.post_list };\n    }\n    default:\n      return state;\n  }\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}